"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[309],{482:(s,e,a)=>{a.d(e,{A:()=>i,t:()=>d});var t=a(294),l=a(548),c=a(114),n=a.n(c);const i=async s=>t.Z.get("".concat(l._,"/users"),{params:n()(s)}),d=async s=>t.Z.get("".concat(l._,"/users/").concat(s))},548:(s,e,a)=>{a.d(e,{_:()=>t});const t="https://jsonplaceholder.typicode.com"},309:(s,e,a)=>{a.r(e),a.d(e,{default:()=>m});var t=a(791),l=a(482),c=a(294),n=a(548);const i=async s=>c.Z.get("".concat(n._,"/albums?userId=").concat(s));var d=a(689),o=a(20);var r=a(740),u=a(184);const h=s=>{let{albumId:e,title:a}=s;const[l,i]=(0,t.useState)([]),[d,o]=(0,t.useState)(!1),h=(0,t.useCallback)((async()=>{o(!0),(async s=>c.Z.get("".concat(n._,"/photos?albumId=").concat(s)))(e).then((s=>{i(s.data)})).finally((()=>o(!1)))}),[]),m=(0,t.useMemo)((()=>null===l||void 0===l?void 0:l.map(((s,e)=>e<=7?(0,u.jsx)("img",{alt:s.title,height:"100px",src:s.url,title:s.title,width:"100px"},s.title):null))),[l]);return(0,t.useEffect)((()=>{h()}),[h]),(0,u.jsx)("li",{className:"card mb-4",children:(0,u.jsxs)("div",{className:"card-body",children:[(0,u.jsx)("h2",{className:"card-title",children:(0,r.h)(a)}),d?"":(0,u.jsxs)("div",{className:"d-flex flex-row align-items-center gap-4",children:[m," and ",l.length-8," photos"]})]})})},m=()=>{const[s,e]=(0,t.useState)([]),[a,c]=(0,t.useState)(!1),[n,r]=(0,t.useState)({}),{id:m}=(0,d.UO)(),p=(0,t.useCallback)((async()=>{c(!0),await Promise.all([i(m),(0,l.t)(m)]).then((s=>{e(s[0].data),r(s[1].data)})).finally((()=>c(!1)))}),[]),x=(0,t.useMemo)((()=>null===s||void 0===s?void 0:s.map((s=>(0,u.jsx)(h,{albumId:s.id,title:s.title},s.id)))),[s]);return(0,t.useEffect)((()=>{p()}),[p]),(0,u.jsx)("div",{className:"container",children:a?(0,u.jsx)(o.Z,{}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h1",{className:"mb-4",children:["List of ",null===n||void 0===n?void 0:n.name,"`s albums"]}),(0,u.jsx)("div",{className:"col",children:(0,u.jsx)("ul",{className:"list-group",children:x})})]})})}},740:(s,e,a)=>{a.d(e,{h:()=>t});const t=s=>s.charAt(0).toUpperCase()+s.slice(1)}}]);
//# sourceMappingURL=309.bd7f1814.chunk.js.map